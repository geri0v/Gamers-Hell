<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gamers-Hell Command</title>
  <style>
    /* ====== GRID LAYOUT ====== */
    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
    }
    body {
      display: grid;
      grid-template-columns: 360px 1fr 360px;
      grid-template-areas: "navleft main navright";
      font-family: Arial, sans-serif;
      background: #3c6e8d65;
    }
    .sidenav  { grid-area: navleft; }
    .sidenav2 { grid-area: navright; }

    .main {
      grid-area: main;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }

    /* ====== SIDEBARS ====== */
    .sidenav, .sidenav2 {
      background: #111;
      color: #818181;
      overflow-y: auto;
      height: 100%;
    }
    .sidenav a, .sidenav2 a {
      display: block;
      padding: 8px 16px;
      font-size: 16px;
      text-decoration: none;
      color: inherit;
    }
    .sidenav a:hover, .sidenav2 a:hover {
      color: #f1f1f1;
    }

    /* ====== COLLAPSIBLE NAV ====== */
    .sidenav details {
      padding: 4px 16px;
      color: #818181;
      cursor: pointer;
    }
    .sidenav summary {
      list-style: none;
      font-size: 16px;
      user-select: none;
    }
    /* remove default marker */
    .sidenav summary::-webkit-details-marker { display: none; }

    /* custom arrow */
    .sidenav summary::before {
      content: "▸";
      display: inline-block;
      width: 1em;
      transition: transform 0.2s;
    }
    .sidenav details[open] summary::before {
      content: "▾";
    }
    .sidenav details a {
      padding-left: 32px;
      font-size: 15px;
    }

    /* ====== MAIN CONTENT ====== */
    .center {
      text-align: center;
      margin-bottom: 1em;
    }
    h1, h2 {
      margin: 0.5em 0;
    }
    h2 {
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.2em;
      margin-top: 1.5em;
    }

    /* ====== TELEPORTER ROWS ====== */
    .textbox-container {
      display: flex;
      align-items: center;
      margin: 6px 0;
    }
    .textbox {
      flex: 1;
      padding: 6px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #fff;
    }
    .copy-button {
      width: 24px; height: 24px;
      margin-left: 6px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      background: url('https://i.postimg.cc/Pf2Qp0Xq/World-Completion.png')
                  no-repeat center/cover;
    }
    .copy-button:hover {
      background-image: url('https://i.postimg.cc/qMNzGyvH/pve-e6fdf7c3.png');
    }

    footer {
      text-align: center;
      padding: 1em 0;
      background: #ececec;
      margin-top: 2em;
      font-size: 0.9em;
    }
    textarea {
      width: 100%;
      max-width: 600px;
    }
  </style>
</head>
<body>

  <!-- LEFT NAV -->
  <nav class="sidenav" id="sideNav"></nav>

  <!-- MAIN CONTENT -->
  <div class="main">
    <section id="Welcome" class="center">
      <h1>Welcome Commander</h1>
      <script>
        (function(){
          const PASS = "PvE";
          if (prompt('Password?','') !== PASS) {
            location.href = 'https://sites.google.com/view/gamers-hell-community';
          } else alert('Welcome Commander');
        })();
      </script>
    </section>

    <div id="mainContent"></div>

    <section id="Credits" class="center">
      <h2>Credits</h2>
      <textarea rows="6" disabled>
Gamers-Hell Community
Players Vs Events:
  Blaz, Devilish Rain, Stormmyknight, Beina, Geri V

Websites:
  https://wiki.guildwars2.com/wiki
  https://gw2efficiency.com/
  http://gw2timer.com/
      </textarea>
    </section>

    <footer>&copy; 2025 Gamers-Hell Community</footer>
  </div>

  <!-- RIGHT TIMER -->
  <nav class="sidenav2">
    <iframe
      src="http://gw2timer.com/?page=Timetable&enu_Language=en&int_setClock=2&bol_use24Hour=true"
      width="100%" height="100%" frameborder="0"
      style="box-shadow:0 0 12px #223;">
    </iframe>
  </nav>

  <!-- GENERATOR SCRIPT -->
  <script>
    // 1) Nested data structure
    const data = {
      "Core Tyria": {
        "Core Tyria": [
          { name: "Taidha Covington", code: "[&BKgBAAA=]" },
          { name: "Karka Queen",       code: "[&BNcGAAA=]" },
          { name: "Jungle Wurm",       code: "[&BEEFAAA=]" }
        ],
        "Ley-Line Anomaly": [
          { name: "Legendary Anomaly A", code: "[&BEwCAAA=]" },
          { name: "Legendary Anomaly B", code: "[&BOcBAAA=]" }
        ]
      },
      "Living World Season 1": [
        { name: "Oola’s Tower",       code: "[&ABCD01=]" },
        { name: "Tarir Conflux Event",code: "[&ABCD02=]" }
      ],
      "Living World Season 2": [
        { name: "Seitung Harbor Meta",code: "[&WXYZ01=]" }
      ],
      "Heart of Thorns": [
        { name: "Vale Guardian",      code: "[&HOTG1=]" }
      ],
      "Living World Season 3": [
        { name: "Key of Ahdashim",    code: "[&LWS301=]" }
      ],
      "Path of Fire": [
        { name: "Champion of the Sun",code: "[&POF01=]" }
      ],
      "Living World Season 4": [
        { name: "Spekks’ Labyrinth",  code: "[&LWS401=]" }
      ],
      "Ice Brood Saga": [
        { name: "Jormag’s Fang",      code: "[&IBS01=]" }
      ],
      "End of Dragons": [
        { name: "Zuko’s Ruin",        code: "[&EoD01=]" }
      ],
      "Secrets of the Obscure": [
        { name: "Obscure Cache Meta", code: "[&SotO01=]" }
      ],
      "Janthir Wilds": [
        { name: "Janthir Assault",    code: "[&JW01=]" }
      ],
      "Expansion 6": [
        { name: "New Meta Event",     code: "[&EXP601=]" }
      ]
    };

    // 2) Copy helper
    function copyToClipboard(id) {
      const tb = document.getElementById(id);
      tb.disabled = false;
      tb.select();
      document.execCommand('copy');
      tb.disabled = true;
      alert(`Copied: ${tb.value}`);
    }

    // 3) Build sidebar nav (recursive)
    function buildNav(parent, obj) {
      Object.entries(obj).forEach(([key, val]) => {
        if (Array.isArray(val)) {
          const a = document.createElement('a');
          a.href = `#${key.replace(/\s+/g,'')}`;
          a.textContent = key;
          parent.appendChild(a);
        } else {
          const details = document.createElement('details');
          const summary = document.createElement('summary');
          summary.textContent = key;
          details.appendChild(summary);
          buildNav(details, val);
          parent.appendChild(details);
        }
      });
    }

    function generateNav() {
      const nav = document.getElementById('sideNav');
      nav.innerHTML = '';
      // static welcome
      const w = document.createElement('a');
      w.href = '#Welcome'; w.textContent = 'Welcome';
      nav.appendChild(w);
      // dynamic
      buildNav(nav, data);
      // static credits
      const c = document.createElement('a');
      c.href = '#Credits'; c.textContent = 'Credits';
      nav.appendChild(c);
    }

    // 4) Build main content (recursive)
    function buildContent(parent, obj) {
      Object.entries(obj).forEach(([key, val]) => {
        if (Array.isArray(val)) {
          const section = document.createElement('section');
          section.id = key.replace(/\s+/g,'');
          const h2 = document.createElement('h2');
          h2.textContent = key;
          section.appendChild(h2);

          val.forEach((item, i) => {
            const wrap = document.createElement('div');
            wrap.className = 'textbox-container';

            const inp = document.createElement('input');
            inp.type = 'text';
            inp.className = 'textbox';
            inp.value = `${item.name}: ${item.code}`;
            inp.id = `tb_${section.id}_${i}`;
            inp.disabled = true;

            const btn = document.createElement('button');
            btn.className = 'copy-button';
            btn.title = `Copy ${item.name}`;
            btn.onclick = () => copyToClipboard(inp.id);

            wrap.appendChild(inp);
            wrap.appendChild(btn);
            section.appendChild(wrap);
          });

          parent.appendChild(section);
        } else {
          buildContent(parent, val);
        }
      });
    }

    // 5) Initialize
    document.addEventListener('DOMContentLoaded', () => {
      generateNav();
      const main = document.getElementById('mainContent');
      main.innerHTML = '';
      buildContent(main, data);
    });
  </script>
</body>
</html>
